{"version":3,"names":["_tsInterfaceChecker","require","_AgoraBase","_AgoraMediaBase","_IAgoraMediaPlayerImpl","_AgoraMediaBaseTi","_interopRequireDefault","_IAgoraMediaPlayerTi","_IAgoraMediaPlayerSourceTi","_IrisApiEngine","obj","__esModule","default","checkers","createCheckers","AgoraMediaBaseTI","IAgoraMediaPlayerTI","IAgoraMediaPlayerSourceTI","MediaPlayerInternal","IMediaPlayerImpl","_source_observers","Map","_audio_frame_observers","_video_frame_observers","_audio_spectrum_observers","constructor","mediaPlayerId","_mediaPlayerId","release","delete","removeAllListeners","_addListenerPreCheck","eventType","_checkers$IMediaPlaye","_checkers$IMediaPlaye2","_checkers$IMediaPlaye3","_checkers$IAudioSpect","IMediaPlayerSourceObserver","strictTest","undefined","_MediaPlayerInternal$","get","length","registerPlayerSourceObserver","IMediaPlayerAudioFrameObserver","_MediaPlayerInternal$2","registerAudioFrameObserver","IMediaPlayerVideoFrameObserver","_MediaPlayerInternal$3","registerVideoFrameObserver","IAudioSpectrumObserver","_MediaPlayerInternal$4","console","error","addListener","listener","callback","eventProcessor","data","type","EVENT_TYPE","IMediaPlayer","playerId","func","map","it","agoraCallback","DeviceEventEmitter","removeListener","getMediaPlayerId","observer","observers","set","find","value","push","unregisterPlayerSourceObserver","ErrorCodeType","ErrFailed","filter","mode","arguments","RawAudioFrameOpModeType","RawAudioFrameOpModeReadOnly","unregisterAudioFrameObserver","unregisterVideoFrameObserver","registerMediaPlayerAudioSpectrumObserver","intervalInMS","unregisterMediaPlayerAudioSpectrumObserver","exports"],"sourceRoot":"../../../src","sources":["internal/MediaPlayerInternal.ts"],"mappings":"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"}