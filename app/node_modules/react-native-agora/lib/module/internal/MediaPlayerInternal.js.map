{"version":3,"names":["createCheckers","ErrorCodeType","RawAudioFrameOpModeType","IMediaPlayerImpl","AgoraMediaBaseTI","IAgoraMediaPlayerTI","IAgoraMediaPlayerSourceTI","checkers","DeviceEventEmitter","EVENT_TYPE","MediaPlayerInternal","_source_observers","Map","_audio_frame_observers","_video_frame_observers","_audio_spectrum_observers","constructor","mediaPlayerId","_mediaPlayerId","release","delete","removeAllListeners","_addListenerPreCheck","eventType","_checkers$IMediaPlaye","_checkers$IMediaPlaye2","_checkers$IMediaPlaye3","_checkers$IAudioSpect","IMediaPlayerSourceObserver","strictTest","undefined","_MediaPlayerInternal$","get","length","registerPlayerSourceObserver","IMediaPlayerAudioFrameObserver","_MediaPlayerInternal$2","registerAudioFrameObserver","IMediaPlayerVideoFrameObserver","_MediaPlayerInternal$3","registerVideoFrameObserver","IAudioSpectrumObserver","_MediaPlayerInternal$4","console","error","addListener","listener","callback","eventProcessor","data","type","IMediaPlayer","playerId","func","map","it","agoraCallback","removeListener","getMediaPlayerId","observer","observers","set","find","value","push","unregisterPlayerSourceObserver","ErrFailed","filter","mode","arguments","RawAudioFrameOpModeReadOnly","unregisterAudioFrameObserver","unregisterVideoFrameObserver","registerMediaPlayerAudioSpectrumObserver","intervalInMS","unregisterMediaPlayerAudioSpectrumObserver"],"sourceRoot":"../../../src","sources":["internal/MediaPlayerInternal.ts"],"mappings":"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"}